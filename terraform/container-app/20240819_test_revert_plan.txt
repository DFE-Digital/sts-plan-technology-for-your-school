[0m[1mmodule.main_hosting.azapi_update_resource.mssql_security_storage_key_rotation_reminder[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Storage/storageAccounts/s190t01plantechmssqlsec][0m
[0m[1mazapi_update_resource.example: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Web/sites/s190t01-plantechcontentfulfunction][0m
[0m[1mazapi_resource.contentful_function: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Web/sites/s190t01-plantechcontentfulfunction][0m
[0m[1mdata.azurerm_subscription.subscription: Reading...[0m[0m
[0m[1mazurerm_subnet.function_storage: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantech-function-vn/subnets/s190t01-plantech-function-storage][0m
[0m[1mmodule.main_hosting.data.azurerm_subscription.current: Reading...[0m[0m
[0m[1mazurerm_virtual_network.function_vnet: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantech-function-vn][0m
[0m[1mazurerm_private_endpoint.files_storage: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateEndpoints/s190t01-plantech-files-storage][0m
[0m[1mazurerm_subnet.function_infra_subnet: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantech-function-vn/subnets/s190t01-plantech-functioninfra][0m
[0m[1mazurerm_private_endpoint.blob_storage: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateEndpoints/s190t01-plantech-blob-storage][0m
[0m[1mazurerm_private_dns_zone.files_storage: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateDnsZones/privatelink.file.core.windows.net][0m
[0m[1mazurerm_private_dns_zone.blob_storage: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateDnsZones/privatelink.blob.core.windows.net][0m
[0m[1mmodule.main_hosting.azurerm_storage_management_policy.mssql_security_storage[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Storage/storageAccounts/s190t01plantechmssqlsec/managementPolicies/default][0m
[0m[1mdata.azurerm_subscription.subscription: Read complete after 1s [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89][0m
[0m[1mmodule.main_hosting.azurerm_resource_group.default[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech][0m
[0m[1mmodule.main_hosting.data.azurerm_subscription.current: Read complete after 1s [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89][0m
[0m[1mdata.azurerm_client_config.current: Reading...[0m[0m
[0m[1mdata.azurerm_client_config.current: Read complete after 0s [id=Y2xpZW50Q29uZmlncy9jbGllbnRJZD03YzJjZDQ1Yi1lNmUwLTQ0MTEtODc4YS1lZWUyYWUyMzllODA7b2JqZWN0SWQ9NjI2YTYwZjgtNTU3Ni00ZmI4LThhYjQtMDZkNmYyNzY3ZWQ3O3N1YnNjcmlwdGlvbklkPTc4YzNlODJmLTI1NmYtNDZjMC1hOGNhLTI5YWQzYTQ5OWI4OTt0ZW5hbnRJZD05YzdkOWRkMy04NDBjLTRiM2YtODE4ZS01NTI4NjUwODJlMTY=][0m
[0m[1mmodule.main_hosting.azurerm_log_analytics_query_pack.container_app: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.OperationalInsights/queryPacks/s190t01-plantechcontainerapp][0m
[0m[1mmodule.main_hosting.azurerm_log_analytics_workspace.container_app: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.OperationalInsights/workspaces/s190t01-plantechcontainerapp][0m
[0m[1mmodule.main_hosting.azurerm_private_dns_zone.mssql_private_link[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateDnsZones/s190t01-plantech.database.windows.net][0m
[0m[1mazurerm_service_plan.function_plan: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Web/serverFarms/s190t01-plantechappserviceplan][0m
[0m[1mmodule.main_hosting.azurerm_virtual_network.default[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantechdefault][0m
[0m[1mmodule.main_hosting.azurerm_storage_account.mssql_security_storage[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Storage/storageAccounts/s190t01plantechmssqlsec][0m
[0m[1mmodule.main_hosting.azurerm_network_security_group.container_apps_infra[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/networkSecurityGroups/s190t01-plantechcontainerappsinfransg][0m
[0m[1mmodule.main_hosting.azurerm_route_table.default[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/routeTables/s190t01-plantechdefault][0m
[0m[1mmodule.main_hosting.azurerm_log_analytics_workspace.app_insights[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.OperationalInsights/workspaces/s190t01-plantech-insights][0m
[0m[1mazurerm_user_assigned_identity.user_assigned_identity: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.ManagedIdentity/userAssignedIdentities/s190t01-plantech-mi][0m
[0m[1mmodule.main_hosting.azurerm_user_assigned_identity.mssql[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.ManagedIdentity/userAssignedIdentities/s190t01-plantech-uami-mssql][0m
[0m[1mazurerm_application_insights.functional_insights: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Insights/components/s190t01-plantech-function-insights][0m
[0m[1mmodule.main_hosting.azurerm_subnet.container_apps_infra_subnet[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantechdefault/subnets/s190t01-plantechcontainerappsinfra][0m
[0m[1mmodule.main_hosting.azurerm_subnet.container_instances_subnet[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantechdefault/subnets/s190t01-plantechcontainerinstances][0m
[0m[1mmodule.main_hosting.azurerm_subnet.mssql_private_endpoint_subnet[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantechdefault/subnets/s190t01-plantechmssqlprivateendpoint][0m
[0m[1mmodule.main_hosting.azurerm_private_dns_zone_virtual_network_link.mssql_private_link[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateDnsZones/s190t01-plantech.database.windows.net/virtualNetworkLinks/s190t01-plantechmssqlprivatelink][0m
[0m[1mazurerm_servicebus_namespace.service_bus: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.ServiceBus/namespaces/s190t01-plantechservicebus][0m
[0m[1mmodule.main_hosting.azurerm_mssql_server.default[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Sql/servers/s190t01-plantech][0m
[0m[1mazurerm_storage_account.function_storage: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Storage/storageAccounts/s190t01plantechfuncstr][0m
[0m[1mmodule.main_hosting.azurerm_subnet_route_table_association.containerinstances_subnet[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantechdefault/subnets/s190t01-plantechcontainerinstances][0m
[0m[1mmodule.main_hosting.azurerm_container_app_environment.container_app_env: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.App/managedEnvironments/s190t01-plantechcontainerapp][0m
[0m[1mmodule.main_hosting.azurerm_subnet_route_table_association.container_apps_infra_subnet[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantechdefault/subnets/s190t01-plantechcontainerappsinfra][0m
[0m[1mmodule.main_hosting.azurerm_subnet_network_security_group_association.container_apps_infra[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantechdefault/subnets/s190t01-plantechcontainerappsinfra][0m
[0m[1mmodule.main_hosting.azurerm_container_registry.acr[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.ContainerRegistry/registries/s190t01plantech][0m
[0m[1mmodule.main_hosting.azurerm_subnet_route_table_association.mssql_private_endpoint_subnet[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantechdefault/subnets/s190t01-plantechmssqlprivateendpoint][0m
[0m[1mazurerm_key_vault.vault: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.KeyVault/vaults/s190t01-plantech-kv][0m
[0m[1mmodule.main_hosting.azurerm_application_insights.main[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Insights/components/s190t01-plantech-insights][0m
[0m[1mmodule.main_hosting.azurerm_monitor_diagnostic_setting.container_app_env: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.App/managedEnvironments/s190t01-plantechcontainerapp|s190t01-plantech-containerapp-diag][0m
[0m[1mmodule.main_hosting.azurerm_network_security_rule.container_apps_infra_allow_frontdoor_inbound_only[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/networkSecurityGroups/s190t01-plantechcontainerappsinfransg/securityRules/AllowFrontdoor][0m
[0m[1mmodule.main_hosting.azapi_update_resource.mssql_vulnerability_assessment[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Sql/servers/s190t01-plantech/sqlVulnerabilityAssessments/s190t01-plantech][0m
[0m[1mmodule.main_hosting.azapi_update_resource.mssql_threat_protection[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Sql/servers/s190t01-plantech/advancedThreatProtectionSettings/s190t01-plantech][0m
[0m[1mmodule.main_hosting.azurerm_mssql_database.default[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Sql/servers/s190t01-plantech/databases/s190t01-plantech-sqldb][0m
[0m[1mmodule.main_hosting.azurerm_private_endpoint.default["mssql"]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateEndpoints/s190t01-plantechmssql][0m
[0m[1mazurerm_key_vault_secret.vault_secret_contentful_spaceid: Refreshing state... [id=https://s190t01-plantech-kv.vault.azure.net/secrets/contentful--spaceid/96304b12924f40f9a736b7d54670d0b0][0m
[0m[1mazurerm_key_vault_secret.vault_secret_contentful_environment: Refreshing state... [id=https://s190t01-plantech-kv.vault.azure.net/secrets/contentful--environment/61e1a854e9924223b4e58319d61ffd6a][0m
[0m[1mazurerm_key_vault_secret.csp_default_src: Refreshing state... [id=https://s190t01-plantech-kv.vault.azure.net/secrets/CSP--DefaultSrc/f94151fc987d4de08467c3ed63e17e4e][0m
[0m[1mazurerm_key_vault_secret.vault_secret_contentful_previewapikey: Refreshing state... [id=https://s190t01-plantech-kv.vault.azure.net/secrets/contentful--previewapikey/75f55b92027d4c50b559b25a41ae32c5][0m
[0m[1mazurerm_key_vault_access_policy.vault_access_policy_tf: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.KeyVault/vaults/s190t01-plantech-kv/objectId/626a60f8-5576-4fb8-8ab4-06d6f2767ed7][0m
[0m[1mazurerm_key_vault_secret.vault_secret_contentful_deliveryapikey: Refreshing state... [id=https://s190t01-plantech-kv.vault.azure.net/secrets/contentful--deliveryapikey/1ced12df40fa4028935a9814a54d7427][0m
[0m[1mazurerm_key_vault_access_policy.vault_access_policy_mi: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.KeyVault/vaults/s190t01-plantech-kv/objectId/2f156b0a-108b-4edb-a5b9-e1cc3e9ddec7][0m
[0m[1mazurerm_key_vault_secret.vault_secret_database_connectionstring: Refreshing state... [id=https://s190t01-plantech-kv.vault.azure.net/secrets/connectionstrings--database/e5a766f5144d454eb497afc59364cfe7][0m
[0m[1mazurerm_key_vault_secret.csp_frame_src: Refreshing state... [id=https://s190t01-plantech-kv.vault.azure.net/secrets/CSP--FrameSrc/d3ee006c5a4d4575b587306621ab0fda][0m
[0m[1mazurerm_key_vault_secret.csp_connect_src: Refreshing state... [id=https://s190t01-plantech-kv.vault.azure.net/secrets/CSP--ConnectSrc/702e2f9ec09a4d7e8fdfe3167cd32135][0m
[0m[1mazurerm_key_vault_secret.csp_img_src: Refreshing state... [id=https://s190t01-plantech-kv.vault.azure.net/secrets/CSP--ImgSrc/75d8dcd10c2044b2b0698b396bcbb68f][0m
[0m[1mazurerm_key_vault_key.data_protection_key: Refreshing state... [id=https://s190t01-plantech-kv.vault.azure.net/keys/dataprotection/a64451e9bc2a44bc92e2613e1bdcbede][0m
[0m[1mazurerm_servicebus_queue.contentful_queue: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.ServiceBus/namespaces/s190t01-plantechservicebus/queues/contentful][0m
[0m[1mmodule.main_hosting.azurerm_storage_container.mssql_security_storage[0]: Refreshing state... [id=https://s190t01plantechmssqlsec.blob.core.windows.net/s190t01-plantech-mssqlsec][0m
[0m[1mmodule.main_hosting.azurerm_storage_account_network_rules.mssql_security_storage[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Storage/storageAccounts/s190t01plantechmssqlsec][0m
[0m[1mmodule.main_hosting.azurerm_mssql_server_extended_auditing_policy.default[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Sql/servers/s190t01-plantech/extendedAuditingSettings/Default][0m
[0m[1mmodule.main_hosting.azurerm_monitor_diagnostic_setting.mssql_security_storage[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Storage/storageAccounts/s190t01plantechmssqlsec/blobServices/default|s190t01-plantech-mssql-blob-diag][0m
[0m[1mmodule.main_hosting.azurerm_container_app.container_apps["main"]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.App/containerApps/s190t01-plantech-plan-tech-app][0m
[0m[1mazurerm_servicebus_queue_authorization_rule.azurefunction: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.ServiceBus/namespaces/s190t01-plantechservicebus/queues/contentful/authorizationRules/azurefunction][0m
[0m[1mmodule.main_hosting.azurerm_private_dns_a_record.mssql_private_endpoint[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateDnsZones/s190t01-plantech.database.windows.net/A/@][0m
[0m[1mmodule.main_hosting.azurerm_mssql_database_extended_auditing_policy.default[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Sql/servers/s190t01-plantech/databases/s190t01-plantech-sqldb/extendedAuditingSettings/Default][0m
[0m[1mmodule.waf.azurerm_cdn_frontdoor_profile.waf[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Cdn/profiles/s190t01-plantech-cdnwaf][0m
[0m[1mmodule.waf.azurerm_monitor_action_group.main: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Insights/actionGroups/s190t01-plantech-actiongroup][0m
[0m[1mmodule.waf.azurerm_log_analytics_workspace.waf: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.OperationalInsights/workspaces/s190t01-plantechwaf][0m
[0m[1mmodule.waf.azurerm_cdn_frontdoor_rule_set.origin_headers["container-app-url"]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Cdn/profiles/s190t01-plantech-cdnwaf/ruleSets/containerappurlheaders][0m
[0m[1mmodule.waf.azurerm_cdn_frontdoor_rule_set.global_headers[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Cdn/profiles/s190t01-plantech-cdnwaf/ruleSets/s190t01plantechheaders][0m
[0m[1mmodule.waf.azurerm_cdn_frontdoor_endpoint.waf["container-app-url"]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Cdn/profiles/s190t01-plantech-cdnwaf/afdEndpoints/s190t01-plantech-container-app-url][0m
[0m[1mmodule.waf.azurerm_cdn_frontdoor_origin_group.waf["container-app-url"]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Cdn/profiles/s190t01-plantech-cdnwaf/originGroups/s190t01-plantech-container-app-url][0m
[0m[1mmodule.waf.azurerm_cdn_frontdoor_firewall_policy.waf[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/frontDoorWebApplicationFirewallPolicies/s190t01plantechwaf][0m
[0m[1mmodule.waf.azurerm_monitor_diagnostic_setting.waf: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Cdn/profiles/s190t01-plantech-cdnwaf|s190t01-plantechwaf][0m
[0m[1mmodule.waf.azurerm_cdn_frontdoor_origin.waf["container-app-url"]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Cdn/profiles/s190t01-plantech-cdnwaf/originGroups/s190t01-plantech-container-app-url/origins/s190t01-plantechorigin-container-app-url][0m
[0m[1mmodule.waf.azurerm_cdn_frontdoor_route.waf["container-app-url"]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Cdn/profiles/s190t01-plantech-cdnwaf/afdEndpoints/s190t01-plantech-container-app-url/routes/s190t01-plantech-container-app-url][0m
[0m[1mmodule.waf.azurerm_cdn_frontdoor_rule.add_response_headers["2"]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Cdn/profiles/s190t01-plantech-cdnwaf/ruleSets/s190t01plantechheaders/rules/addresponseheaders2][0m
[0m[1mmodule.waf.azurerm_cdn_frontdoor_rule.add_response_headers["1"]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Cdn/profiles/s190t01-plantech-cdnwaf/ruleSets/s190t01plantechheaders/rules/addresponseheaders1][0m
[0m[1mmodule.waf.azurerm_cdn_frontdoor_rule.add_response_headers["0"]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Cdn/profiles/s190t01-plantech-cdnwaf/ruleSets/s190t01plantechheaders/rules/addresponseheaders0][0m
[0m[1mmodule.waf.azurerm_cdn_frontdoor_security_policy.waf[0]: Refreshing state... [id=/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Cdn/profiles/s190t01-plantech-cdnwaf/securityPolicies/s190t01plantechwafsecuritypolicy][0m

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [32m+[0m create[0m
  [33m~[0m update in-place[0m
  [31m-[0m destroy[0m
[31m-[0m/[32m+[0m destroy and then create replacement[0m
 [36m<=[0m read (data resources)[0m

Terraform will perform the following actions:

[1m  # azapi_resource.contentful_function[0m will be [1m[31mdestroyed[0m
  # (because azapi_resource.contentful_function is not in configuration)
[0m  [31m-[0m[0m resource "azapi_resource" "contentful_function" {
      [31m-[0m[0m body                      = (sensitive value) [90m-> null[0m[0m
      [31m-[0m[0m id                        = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Web/sites/s190t01-plantechcontentfulfunction" [90m-> null[0m[0m
      [31m-[0m[0m ignore_casing             = false [90m-> null[0m[0m
      [31m-[0m[0m ignore_missing_property   = true [90m-> null[0m[0m
      [31m-[0m[0m location                  = "northeurope" [90m-> null[0m[0m
      [31m-[0m[0m name                      = "s190t01-plantechcontentfulfunction" [90m-> null[0m[0m
      [31m-[0m[0m output                    = jsonencode({})
      [31m-[0m[0m parent_id                 = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech" [90m-> null[0m[0m
      [31m-[0m[0m removing_special_chars    = false [90m-> null[0m[0m
      [31m-[0m[0m schema_validation_enabled = false [90m-> null[0m[0m
      [31m-[0m[0m tags                      = {
          [31m-[0m[0m "Environment"                                    = "Test"
          [31m-[0m[0m "Product"                                        = "Plan Technology for your School"
          [31m-[0m[0m "Service Offering"                               = "Plan Technology for your School"
          [31m-[0m[0m "hidden-link: /app-insights-conn-string"         = "InstrumentationKey=a5c4bea1-42c3-4568-b801-6abd66e00cb4;IngestionEndpoint=https://westeurope-2.in.applicationinsights.azure.com/;LiveEndpoint=https://westeurope.livediagnostics.monitor.azure.com/;ApplicationId=840af685-c6c4-4e61-ac53-c7a9c54cb0fd"
          [31m-[0m[0m "hidden-link: /app-insights-instrumentation-key" = "a5c4bea1-42c3-4568-b801-6abd66e00cb4"
          [31m-[0m[0m "hidden-link: /app-insights-resource-id"         = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/microsoft.insights/components/s190t01-plantech-function-insights"
        } [90m-> null[0m[0m
      [31m-[0m[0m type                      = "Microsoft.Web/sites@2023-12-01" [90m-> null[0m[0m

      [31m-[0m[0m identity {
          [31m-[0m[0m identity_ids = [
              [31m-[0m[0m "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.ManagedIdentity/userAssignedIdentities/s190t01-plantech-mi",
            ] [90m-> null[0m[0m
          [31m-[0m[0m type         = "UserAssigned" [90m-> null[0m[0m
        }
    }

[1m  # azapi_update_resource.example[0m will be [1m[31mdestroyed[0m
  # (because azapi_update_resource.example is not in configuration)
[0m  [31m-[0m[0m resource "azapi_update_resource" "example" {
      [31m-[0m[0m body                    = {
          [31m-[0m[0m properties = {
              [31m-[0m[0m keyVaultReferenceIdentity = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourcegroups/s190t01-plantech/providers/Microsoft.ManagedIdentity/userAssignedIdentities/s190t01-plantech-mi"
            }
        } [90m-> null[0m[0m
      [31m-[0m[0m id                      = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Web/sites/s190t01-plantechcontentfulfunction" [90m-> null[0m[0m
      [31m-[0m[0m ignore_casing           = false [90m-> null[0m[0m
      [31m-[0m[0m ignore_missing_property = true [90m-> null[0m[0m
      [31m-[0m[0m name                    = "s190t01-plantechcontentfulfunction" [90m-> null[0m[0m
      [31m-[0m[0m output                  = {} [90m-> null[0m[0m
      [31m-[0m[0m parent_id               = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech" [90m-> null[0m[0m
      [31m-[0m[0m resource_id             = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Web/sites/s190t01-plantechcontentfulfunction" [90m-> null[0m[0m
      [31m-[0m[0m type                    = "Microsoft.Web/sites@2023-12-01" [90m-> null[0m[0m
    }

[1m  # azurerm_app_service_connection.azurekeyvaultconnector[0m will be created
[0m  [32m+[0m[0m resource "azurerm_app_service_connection" "azurekeyvaultconnector" {
      [32m+[0m[0m app_service_id     = (known after apply)
      [32m+[0m[0m client_type        = "dotnet"
      [32m+[0m[0m id                 = (known after apply)
      [32m+[0m[0m name               = "azurekeyvaultconnection"
      [32m+[0m[0m target_resource_id = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.KeyVault/vaults/s190t01-plantech-kv"

      [32m+[0m[0m authentication {
          [32m+[0m[0m client_id       = "988101f8-5c0b-4fb9-b9ad-d37d49eba44e"
          [32m+[0m[0m subscription_id = "78c3e82f-256f-46c0-a8ca-29ad3a499b89"
          [32m+[0m[0m type            = "userAssignedIdentity"
        }
    }

[1m  # azurerm_app_service_connection.azuresqlconnector[0m will be created
[0m  [32m+[0m[0m resource "azurerm_app_service_connection" "azuresqlconnector" {
      [32m+[0m[0m app_service_id     = (known after apply)
      [32m+[0m[0m client_type        = "dotnet"
      [32m+[0m[0m id                 = (known after apply)
      [32m+[0m[0m name               = "azuresqlconnection"
      [32m+[0m[0m target_resource_id = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Sql/servers/s190t01-plantech/databases/s190t01-plantech-sqldb"

      [32m+[0m[0m authentication {
          [32m+[0m[0m client_id       = "988101f8-5c0b-4fb9-b9ad-d37d49eba44e"
          [32m+[0m[0m subscription_id = "78c3e82f-256f-46c0-a8ca-29ad3a499b89"
          [32m+[0m[0m type            = "userAssignedIdentity"
        }
    }

[1m  # azurerm_key_vault.vault[0m will be updated in-place
[0m  [33m~[0m[0m resource "azurerm_key_vault" "vault" {
        id                              = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.KeyVault/vaults/s190t01-plantech-kv"
        name                            = "s190t01-plantech-kv"
        tags                            = {
            "Environment"      = "Test"
            "Product"          = "Plan Technology for your School"
            "Service Offering" = "Plan Technology for your School"
        }
        [90m# (13 unchanged attributes hidden)[0m[0m

      [33m~[0m[0m network_acls {
          [33m~[0m[0m virtual_network_subnet_ids = [
              [31m-[0m[0m "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantech-function-vn/subnets/s190t01-plantech-keyvault",
                [90m# (1 unchanged element hidden)[0m[0m
            ]
            [90m# (3 unchanged attributes hidden)[0m[0m
        }
    }

[1m  # azurerm_linux_function_app.contentful_function[0m will be created
[0m  [32m+[0m[0m resource "azurerm_linux_function_app" "contentful_function" {
      [32m+[0m[0m app_settings                                   = {
          [32m+[0m[0m "AZURE_CLIENT_ID"                 = "988101f8-5c0b-4fb9-b9ad-d37d49eba44e"
          [32m+[0m[0m "AZURE_KEYVAULT_CLIENTID"         = "988101f8-5c0b-4fb9-b9ad-d37d49eba44e"
          [32m+[0m[0m "AZURE_KEYVAULT_RESOURCEENDPOINT" = "https://s190t01-plantech-kv.vault.azure.net/"
          [32m+[0m[0m "AZURE_KEYVAULT_SCOPE"            = "https://vault.azure.net/.default"
          [32m+[0m[0m "AZURE_SQL_CONNECTIONSTRING"      = "@Microsoft.KeyVault(VaultName=s190t01-plantech-kv;SecretName=connectionstrings--database)"
          [32m+[0m[0m "AzureWebJobsServiceBus"          = (sensitive value)
          [32m+[0m[0m "KeyVaultReferenceIdentity"       = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.ManagedIdentity/userAssignedIdentities/s190t01-plantech-mi"
          [32m+[0m[0m "WEBSITE_ENABLE_SYNC_UPDATE_SITE" = "true"
          [32m+[0m[0m "WEBSITE_MOUNT_ENABLED"           = "1"
          [32m+[0m[0m "WEBSITE_RUN_FROM_PACKAGE"        = ""
        }
      [32m+[0m[0m builtin_logging_enabled                        = true
      [32m+[0m[0m client_certificate_enabled                     = false
      [32m+[0m[0m client_certificate_mode                        = "Optional"
      [32m+[0m[0m content_share_force_disabled                   = false
      [32m+[0m[0m custom_domain_verification_id                  = (sensitive value)
      [32m+[0m[0m daily_memory_time_quota                        = 0
      [32m+[0m[0m default_hostname                               = (known after apply)
      [32m+[0m[0m enabled                                        = true
      [32m+[0m[0m ftp_publish_basic_authentication_enabled       = true
      [32m+[0m[0m functions_extension_version                    = "~4"
      [32m+[0m[0m hosting_environment_id                         = (known after apply)
      [32m+[0m[0m https_only                                     = false
      [32m+[0m[0m id                                             = (known after apply)
      [32m+[0m[0m key_vault_reference_identity_id                = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.ManagedIdentity/userAssignedIdentities/s190t01-plantech-mi"
      [32m+[0m[0m kind                                           = (known after apply)
      [32m+[0m[0m location                                       = "westeurope"
      [32m+[0m[0m name                                           = "s190t01-plantechcontentfulfunction"
      [32m+[0m[0m outbound_ip_address_list                       = (known after apply)
      [32m+[0m[0m outbound_ip_addresses                          = (known after apply)
      [32m+[0m[0m possible_outbound_ip_address_list              = (known after apply)
      [32m+[0m[0m possible_outbound_ip_addresses                 = (known after apply)
      [32m+[0m[0m public_network_access_enabled                  = true
      [32m+[0m[0m resource_group_name                            = "s190t01-plantech"
      [32m+[0m[0m service_plan_id                                = (known after apply)
      [32m+[0m[0m site_credential                                = (sensitive value)
      [32m+[0m[0m storage_account_access_key                     = (sensitive value)
      [32m+[0m[0m storage_account_name                           = "s190t01plantechfuncstr"
      [32m+[0m[0m storage_uses_managed_identity                  = false
      [32m+[0m[0m tags                                           = {
          [32m+[0m[0m "Environment"      = "Test"
          [32m+[0m[0m "Product"          = "Plan Technology for your School"
          [32m+[0m[0m "Service Offering" = "Plan Technology for your School"
        }
      [32m+[0m[0m webdeploy_publish_basic_authentication_enabled = true
      [32m+[0m[0m zip_deploy_file                                = (known after apply)

      [32m+[0m[0m identity {
          [32m+[0m[0m identity_ids = [
              [32m+[0m[0m "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.ManagedIdentity/userAssignedIdentities/s190t01-plantech-mi",
            ]
          [32m+[0m[0m principal_id = (known after apply)
          [32m+[0m[0m tenant_id    = (known after apply)
          [32m+[0m[0m type         = "UserAssigned"
        }

      [32m+[0m[0m site_config {
          [32m+[0m[0m always_on                               = (known after apply)
          [32m+[0m[0m app_scale_limit                         = (known after apply)
          [32m+[0m[0m application_insights_key                = (sensitive value)
          [32m+[0m[0m container_registry_use_managed_identity = false
          [32m+[0m[0m default_documents                       = (known after apply)
          [32m+[0m[0m detailed_error_logging_enabled          = (known after apply)
          [32m+[0m[0m elastic_instance_minimum                = (known after apply)
          [32m+[0m[0m ftps_state                              = "Disabled"
          [32m+[0m[0m health_check_eviction_time_in_min       = (known after apply)
          [32m+[0m[0m http2_enabled                           = false
          [32m+[0m[0m ip_restriction_default_action           = "Allow"
          [32m+[0m[0m linux_fx_version                        = (known after apply)
          [32m+[0m[0m load_balancing_mode                     = "LeastRequests"
          [32m+[0m[0m managed_pipeline_mode                   = "Integrated"
          [32m+[0m[0m minimum_tls_version                     = "1.2"
          [32m+[0m[0m pre_warmed_instance_count               = (known after apply)
          [32m+[0m[0m remote_debugging_enabled                = false
          [32m+[0m[0m remote_debugging_version                = (known after apply)
          [32m+[0m[0m scm_ip_restriction_default_action       = "Allow"
          [32m+[0m[0m scm_minimum_tls_version                 = "1.2"
          [32m+[0m[0m scm_type                                = (known after apply)
          [32m+[0m[0m scm_use_main_ip_restriction             = false
          [32m+[0m[0m use_32_bit_worker                       = false
          [32m+[0m[0m vnet_route_all_enabled                  = false
          [32m+[0m[0m websockets_enabled                      = false
          [32m+[0m[0m worker_count                            = (known after apply)

          [32m+[0m[0m application_stack {
              [32m+[0m[0m dotnet_version              = "8.0"
              [32m+[0m[0m use_dotnet_isolated_runtime = true
            }
        }
    }

[1m  # azurerm_private_dns_zone.blob_storage[0m will be [1m[31mdestroyed[0m
  # (because azurerm_private_dns_zone.blob_storage is not in configuration)
[0m  [31m-[0m[0m resource "azurerm_private_dns_zone" "blob_storage" {
      [31m-[0m[0m id                                                    = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateDnsZones/privatelink.blob.core.windows.net" [90m-> null[0m[0m
      [31m-[0m[0m max_number_of_record_sets                             = 25000 [90m-> null[0m[0m
      [31m-[0m[0m max_number_of_virtual_network_links                   = 1000 [90m-> null[0m[0m
      [31m-[0m[0m max_number_of_virtual_network_links_with_registration = 100 [90m-> null[0m[0m
      [31m-[0m[0m name                                                  = "privatelink.blob.core.windows.net" [90m-> null[0m[0m
      [31m-[0m[0m number_of_record_sets                                 = 2 [90m-> null[0m[0m
      [31m-[0m[0m resource_group_name                                   = "s190t01-plantech" [90m-> null[0m[0m
      [31m-[0m[0m tags                                                  = {
          [31m-[0m[0m "Environment" = "Test"
          [31m-[0m[0m "Product"     = "Plan Technology for your School"
        } [90m-> null[0m[0m

      [31m-[0m[0m soa_record {
          [31m-[0m[0m email         = "azureprivatedns-host.microsoft.com" [90m-> null[0m[0m
          [31m-[0m[0m expire_time   = 2419200 [90m-> null[0m[0m
          [31m-[0m[0m fqdn          = "privatelink.blob.core.windows.net." [90m-> null[0m[0m
          [31m-[0m[0m host_name     = "azureprivatedns.net" [90m-> null[0m[0m
          [31m-[0m[0m minimum_ttl   = 10 [90m-> null[0m[0m
          [31m-[0m[0m refresh_time  = 3600 [90m-> null[0m[0m
          [31m-[0m[0m retry_time    = 300 [90m-> null[0m[0m
          [31m-[0m[0m serial_number = 1 [90m-> null[0m[0m
          [31m-[0m[0m tags          = {} [90m-> null[0m[0m
          [31m-[0m[0m ttl           = 3600 [90m-> null[0m[0m
        }
    }

[1m  # azurerm_private_dns_zone.files_storage[0m will be [1m[31mdestroyed[0m
  # (because azurerm_private_dns_zone.files_storage is not in configuration)
[0m  [31m-[0m[0m resource "azurerm_private_dns_zone" "files_storage" {
      [31m-[0m[0m id                                                    = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateDnsZones/privatelink.file.core.windows.net" [90m-> null[0m[0m
      [31m-[0m[0m max_number_of_record_sets                             = 25000 [90m-> null[0m[0m
      [31m-[0m[0m max_number_of_virtual_network_links                   = 1000 [90m-> null[0m[0m
      [31m-[0m[0m max_number_of_virtual_network_links_with_registration = 100 [90m-> null[0m[0m
      [31m-[0m[0m name                                                  = "privatelink.file.core.windows.net" [90m-> null[0m[0m
      [31m-[0m[0m number_of_record_sets                                 = 2 [90m-> null[0m[0m
      [31m-[0m[0m resource_group_name                                   = "s190t01-plantech" [90m-> null[0m[0m
      [31m-[0m[0m tags                                                  = {
          [31m-[0m[0m "Environment" = "Test"
          [31m-[0m[0m "Product"     = "Plan Technology for your School"
        } [90m-> null[0m[0m

      [31m-[0m[0m soa_record {
          [31m-[0m[0m email         = "azureprivatedns-host.microsoft.com" [90m-> null[0m[0m
          [31m-[0m[0m expire_time   = 2419200 [90m-> null[0m[0m
          [31m-[0m[0m fqdn          = "privatelink.file.core.windows.net." [90m-> null[0m[0m
          [31m-[0m[0m host_name     = "azureprivatedns.net" [90m-> null[0m[0m
          [31m-[0m[0m minimum_ttl   = 10 [90m-> null[0m[0m
          [31m-[0m[0m refresh_time  = 3600 [90m-> null[0m[0m
          [31m-[0m[0m retry_time    = 300 [90m-> null[0m[0m
          [31m-[0m[0m serial_number = 1 [90m-> null[0m[0m
          [31m-[0m[0m tags          = {} [90m-> null[0m[0m
          [31m-[0m[0m ttl           = 3600 [90m-> null[0m[0m
        }
    }

[1m  # azurerm_private_endpoint.blob_storage[0m will be [1m[31mdestroyed[0m
  # (because azurerm_private_endpoint.blob_storage is not in configuration)
[0m  [31m-[0m[0m resource "azurerm_private_endpoint" "blob_storage" {
      [31m-[0m[0m custom_dns_configs            = [] [90m-> null[0m[0m
      [31m-[0m[0m custom_network_interface_name = "s190t01-plantech-blob-storage-nic" [90m-> null[0m[0m
      [31m-[0m[0m id                            = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateEndpoints/s190t01-plantech-blob-storage" [90m-> null[0m[0m
      [31m-[0m[0m location                      = "northeurope" [90m-> null[0m[0m
      [31m-[0m[0m name                          = "s190t01-plantech-blob-storage" [90m-> null[0m[0m
      [31m-[0m[0m network_interface             = [
          [31m-[0m[0m {
              [31m-[0m[0m id   = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/networkInterfaces/s190t01-plantech-blob-storage-nic"
              [31m-[0m[0m name = "s190t01-plantech-blob-storage-nic"
            },
        ] [90m-> null[0m[0m
      [31m-[0m[0m private_dns_zone_configs      = [
          [31m-[0m[0m {
              [31m-[0m[0m id                  = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateEndpoints/s190t01-plantech-blob-storage/privateDnsZoneGroups/default/privateDnsZoneConfigs/privatelink.blob.core.windows.net"
              [31m-[0m[0m name                = "privatelink.blob.core.windows.net"
              [31m-[0m[0m private_dns_zone_id = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateDnsZones/privatelink.blob.core.windows.net"
              [31m-[0m[0m record_sets         = [
                  [31m-[0m[0m {
                      [31m-[0m[0m fqdn         = "s190t01plantechfuncstr.privatelink.blob.core.windows.net"
                      [31m-[0m[0m ip_addresses = [
                          [31m-[0m[0m "10.0.1.5",
                        ]
                      [31m-[0m[0m name         = "s190t01plantechfuncstr"
                      [31m-[0m[0m ttl          = 10
                      [31m-[0m[0m type         = "A"
                    },
                ]
            },
        ] [90m-> null[0m[0m
      [31m-[0m[0m resource_group_name           = "s190t01-plantech" [90m-> null[0m[0m
      [31m-[0m[0m subnet_id                     = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantech-function-vn/subnets/s190t01-plantech-function-storage" [90m-> null[0m[0m
      [31m-[0m[0m tags                          = {
          [31m-[0m[0m "Environment"      = "Test"
          [31m-[0m[0m "Product"          = "Plan Technology for your School"
          [31m-[0m[0m "Service Offering" = "Plan Technology for your School"
        } [90m-> null[0m[0m

      [31m-[0m[0m private_dns_zone_group {
          [31m-[0m[0m id                   = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateEndpoints/s190t01-plantech-blob-storage/privateDnsZoneGroups/default" [90m-> null[0m[0m
          [31m-[0m[0m name                 = "default" [90m-> null[0m[0m
          [31m-[0m[0m private_dns_zone_ids = [
              [31m-[0m[0m "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateDnsZones/privatelink.blob.core.windows.net",
            ] [90m-> null[0m[0m
        }

      [31m-[0m[0m private_service_connection {
          [31m-[0m[0m is_manual_connection           = false [90m-> null[0m[0m
          [31m-[0m[0m name                           = "s190t01-plantech-blob-storage" [90m-> null[0m[0m
          [31m-[0m[0m private_connection_resource_id = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Storage/storageAccounts/s190t01plantechfuncstr" [90m-> null[0m[0m
          [31m-[0m[0m private_ip_address             = "10.0.1.5" [90m-> null[0m[0m
          [31m-[0m[0m subresource_names              = [
              [31m-[0m[0m "blob",
            ] [90m-> null[0m[0m
        }
    }

[1m  # azurerm_private_endpoint.files_storage[0m will be [1m[31mdestroyed[0m
  # (because azurerm_private_endpoint.files_storage is not in configuration)
[0m  [31m-[0m[0m resource "azurerm_private_endpoint" "files_storage" {
      [31m-[0m[0m custom_dns_configs            = [] [90m-> null[0m[0m
      [31m-[0m[0m custom_network_interface_name = "s190t01-plantech-files-storage-nic" [90m-> null[0m[0m
      [31m-[0m[0m id                            = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateEndpoints/s190t01-plantech-files-storage" [90m-> null[0m[0m
      [31m-[0m[0m location                      = "northeurope" [90m-> null[0m[0m
      [31m-[0m[0m name                          = "s190t01-plantech-files-storage" [90m-> null[0m[0m
      [31m-[0m[0m network_interface             = [
          [31m-[0m[0m {
              [31m-[0m[0m id   = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/networkInterfaces/s190t01-plantech-files-storage-nic"
              [31m-[0m[0m name = "s190t01-plantech-files-storage-nic"
            },
        ] [90m-> null[0m[0m
      [31m-[0m[0m private_dns_zone_configs      = [
          [31m-[0m[0m {
              [31m-[0m[0m id                  = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateEndpoints/s190t01-plantech-files-storage/privateDnsZoneGroups/default/privateDnsZoneConfigs/privatelink.file.core.windows.net"
              [31m-[0m[0m name                = "privatelink.file.core.windows.net"
              [31m-[0m[0m private_dns_zone_id = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateDnsZones/privatelink.file.core.windows.net"
              [31m-[0m[0m record_sets         = [
                  [31m-[0m[0m {
                      [31m-[0m[0m fqdn         = "s190t01plantechfuncstr.privatelink.file.core.windows.net"
                      [31m-[0m[0m ip_addresses = [
                          [31m-[0m[0m "10.0.1.4",
                        ]
                      [31m-[0m[0m name         = "s190t01plantechfuncstr"
                      [31m-[0m[0m ttl          = 10
                      [31m-[0m[0m type         = "A"
                    },
                ]
            },
        ] [90m-> null[0m[0m
      [31m-[0m[0m resource_group_name           = "s190t01-plantech" [90m-> null[0m[0m
      [31m-[0m[0m subnet_id                     = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantech-function-vn/subnets/s190t01-plantech-function-storage" [90m-> null[0m[0m
      [31m-[0m[0m tags                          = {
          [31m-[0m[0m "Environment"      = "Test"
          [31m-[0m[0m "Product"          = "Plan Technology for your School"
          [31m-[0m[0m "Service Offering" = "Plan Technology for your School"
        } [90m-> null[0m[0m

      [31m-[0m[0m private_dns_zone_group {
          [31m-[0m[0m id                   = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateEndpoints/s190t01-plantech-files-storage/privateDnsZoneGroups/default" [90m-> null[0m[0m
          [31m-[0m[0m name                 = "default" [90m-> null[0m[0m
          [31m-[0m[0m private_dns_zone_ids = [
              [31m-[0m[0m "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateDnsZones/privatelink.file.core.windows.net",
            ] [90m-> null[0m[0m
        }

      [31m-[0m[0m private_service_connection {
          [31m-[0m[0m is_manual_connection           = false [90m-> null[0m[0m
          [31m-[0m[0m name                           = "s190t01-plantech-files-storage" [90m-> null[0m[0m
          [31m-[0m[0m private_connection_resource_id = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Storage/storageAccounts/s190t01plantechfuncstr" [90m-> null[0m[0m
          [31m-[0m[0m private_ip_address             = "10.0.1.4" [90m-> null[0m[0m
          [31m-[0m[0m subresource_names              = [
              [31m-[0m[0m "file",
            ] [90m-> null[0m[0m
        }
    }

[1m  # azurerm_service_plan.function_plan[0m must be [1m[31mreplaced[0m
[0m[31m-[0m/[32m+[0m[0m resource "azurerm_service_plan" "function_plan" {
      [33m~[0m[0m id                           = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Web/serverFarms/s190t01-plantechappserviceplan" -> (known after apply)
      [33m~[0m[0m kind                         = "functionapp" -> (known after apply)
      [33m~[0m[0m location                     = "northeurope" [33m->[0m[0m "westeurope" [31m# forces replacement[0m[0m
      [33m~[0m[0m maximum_elastic_worker_count = 1 -> (known after apply)
        name                         = "s190t01-plantechappserviceplan"
      [33m~[0m[0m reserved                     = true -> (known after apply)
      [33m~[0m[0m sku_name                     = "FC1" [33m->[0m[0m "Y1"
        tags                         = {
            "Environment"      = "Test"
            "Product"          = "Plan Technology for your School"
            "Service Offering" = "Plan Technology for your School"
        }
      [33m~[0m[0m worker_count                 = 0 -> (known after apply)
      [31m-[0m[0m zone_balancing_enabled       = false [90m-> null[0m[0m
        [90m# (3 unchanged attributes hidden)[0m[0m
    }

[1m  # azurerm_storage_account.function_storage[0m will be updated in-place
[0m  [33m~[0m[0m resource "azurerm_storage_account" "function_storage" {
        id                                = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Storage/storageAccounts/s190t01plantechfuncstr"
        name                              = "s190t01plantechfuncstr"
        tags                              = {
            "Environment"      = "Test"
            "Product"          = "Plan Technology for your School"
            "Service Offering" = "Plan Technology for your School"
        }
        [90m# (40 unchanged attributes hidden)[0m[0m

      [31m-[0m[0m sas_policy {
          [31m-[0m[0m expiration_action = "Log" [90m-> null[0m[0m
          [31m-[0m[0m expiration_period = "00.01:00:00" [90m-> null[0m[0m
        }

        [90m# (5 unchanged blocks hidden)[0m[0m
    }

[1m  # azurerm_subnet.function_infra_subnet[0m will be [1m[31mdestroyed[0m
  # (because azurerm_subnet.function_infra_subnet is not in configuration)
[0m  [31m-[0m[0m resource "azurerm_subnet" "function_infra_subnet" {
      [31m-[0m[0m address_prefixes                               = [
          [31m-[0m[0m "10.0.0.0/24",
        ] [90m-> null[0m[0m
      [31m-[0m[0m default_outbound_access_enabled                = true [90m-> null[0m[0m
      [31m-[0m[0m enforce_private_link_endpoint_network_policies = false [90m-> null[0m[0m
      [31m-[0m[0m enforce_private_link_service_network_policies  = false [90m-> null[0m[0m
      [31m-[0m[0m id                                             = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantech-function-vn/subnets/s190t01-plantech-functioninfra" [90m-> null[0m[0m
      [31m-[0m[0m name                                           = "s190t01-plantech-functioninfra" [90m-> null[0m[0m
      [31m-[0m[0m private_endpoint_network_policies              = "RouteTableEnabled" [90m-> null[0m[0m
      [31m-[0m[0m private_endpoint_network_policies_enabled      = false [90m-> null[0m[0m
      [31m-[0m[0m private_link_service_network_policies_enabled  = true [90m-> null[0m[0m
      [31m-[0m[0m resource_group_name                            = "s190t01-plantech" [90m-> null[0m[0m
      [31m-[0m[0m service_endpoint_policy_ids                    = [] [90m-> null[0m[0m
      [31m-[0m[0m service_endpoints                              = [
          [31m-[0m[0m "Microsoft.KeyVault",
        ] [90m-> null[0m[0m
      [31m-[0m[0m virtual_network_name                           = "s190t01-plantech-function-vn" [90m-> null[0m[0m

      [31m-[0m[0m delegation {
          [31m-[0m[0m name = "Microsoft.App.environments" [90m-> null[0m[0m

          [31m-[0m[0m service_delegation {
              [31m-[0m[0m actions = [
                  [31m-[0m[0m "Microsoft.Network/virtualNetworks/subnets/join/action",
                ] [90m-> null[0m[0m
              [31m-[0m[0m name    = "Microsoft.App/environments" [90m-> null[0m[0m
            }
        }
    }

[1m  # azurerm_subnet.function_storage[0m will be [1m[31mdestroyed[0m
  # (because azurerm_subnet.function_storage is not in configuration)
[0m  [31m-[0m[0m resource "azurerm_subnet" "function_storage" {
      [31m-[0m[0m address_prefixes                               = [
          [31m-[0m[0m "10.0.1.0/24",
        ] [90m-> null[0m[0m
      [31m-[0m[0m default_outbound_access_enabled                = true [90m-> null[0m[0m
      [31m-[0m[0m enforce_private_link_endpoint_network_policies = true [90m-> null[0m[0m
      [31m-[0m[0m enforce_private_link_service_network_policies  = false [90m-> null[0m[0m
      [31m-[0m[0m id                                             = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantech-function-vn/subnets/s190t01-plantech-function-storage" [90m-> null[0m[0m
      [31m-[0m[0m name                                           = "s190t01-plantech-function-storage" [90m-> null[0m[0m
      [31m-[0m[0m private_endpoint_network_policies              = "Disabled" [90m-> null[0m[0m
      [31m-[0m[0m private_endpoint_network_policies_enabled      = false [90m-> null[0m[0m
      [31m-[0m[0m private_link_service_network_policies_enabled  = true [90m-> null[0m[0m
      [31m-[0m[0m resource_group_name                            = "s190t01-plantech" [90m-> null[0m[0m
      [31m-[0m[0m service_endpoint_policy_ids                    = [] [90m-> null[0m[0m
      [31m-[0m[0m service_endpoints                              = [
          [31m-[0m[0m "Microsoft.KeyVault",
        ] [90m-> null[0m[0m
      [31m-[0m[0m virtual_network_name                           = "s190t01-plantech-function-vn" [90m-> null[0m[0m
    }

[1m  # azurerm_virtual_network.function_vnet[0m will be [1m[31mdestroyed[0m
  # (because azurerm_virtual_network.function_vnet is not in configuration)
[0m  [31m-[0m[0m resource "azurerm_virtual_network" "function_vnet" {
      [31m-[0m[0m address_space           = [
          [31m-[0m[0m "10.0.0.0/14",
        ] [90m-> null[0m[0m
      [31m-[0m[0m dns_servers             = [] [90m-> null[0m[0m
      [31m-[0m[0m flow_timeout_in_minutes = 0 [90m-> null[0m[0m
      [31m-[0m[0m guid                    = "5821af56-645d-46b5-b35b-269798c4e0a8" [90m-> null[0m[0m
      [31m-[0m[0m id                      = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantech-function-vn" [90m-> null[0m[0m
      [31m-[0m[0m location                = "northeurope" [90m-> null[0m[0m
      [31m-[0m[0m name                    = "s190t01-plantech-function-vn" [90m-> null[0m[0m
      [31m-[0m[0m resource_group_name     = "s190t01-plantech" [90m-> null[0m[0m
      [31m-[0m[0m subnet                  = [
          [31m-[0m[0m {
              [31m-[0m[0m address_prefix = "10.0.0.0/24"
              [31m-[0m[0m id             = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantech-function-vn/subnets/s190t01-plantech-functioninfra"
              [31m-[0m[0m name           = "s190t01-plantech-functioninfra"
              [31m-[0m[0m security_group = ""
            },
          [31m-[0m[0m {
              [31m-[0m[0m address_prefix = "10.0.1.0/24"
              [31m-[0m[0m id             = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantech-function-vn/subnets/s190t01-plantech-function-storage"
              [31m-[0m[0m name           = "s190t01-plantech-function-storage"
              [31m-[0m[0m security_group = ""
            },
          [31m-[0m[0m {
              [31m-[0m[0m address_prefix = "10.0.2.0/24"
              [31m-[0m[0m id             = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantech-function-vn/subnets/s190t01-plantech-keyvault"
              [31m-[0m[0m name           = "s190t01-plantech-keyvault"
              [31m-[0m[0m security_group = ""
            },
          [31m-[0m[0m {
              [31m-[0m[0m address_prefix = "10.0.3.0/24"
              [31m-[0m[0m id             = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantech-function-vn/subnets/s190t01-plantech-function"
              [31m-[0m[0m name           = "s190t01-plantech-function"
              [31m-[0m[0m security_group = ""
            },
          [31m-[0m[0m {
              [31m-[0m[0m address_prefix = "10.0.4.0/24"
              [31m-[0m[0m id             = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantech-function-vn/subnets/s190t01-plantech-functest"
              [31m-[0m[0m name           = "s190t01-plantech-functest"
              [31m-[0m[0m security_group = ""
            },
        ] [90m-> null[0m[0m
      [31m-[0m[0m tags                    = {
          [31m-[0m[0m "Environment"      = "Test"
          [31m-[0m[0m "Product"          = "Plan Technology for your School"
          [31m-[0m[0m "Service Offering" = "Plan Technology for your School"
        } [90m-> null[0m[0m
    }

[1m  # module.main_hosting.azapi_update_resource.mssql_security_storage_key_rotation_reminder[0][0m will be [1m[31mdestroyed[0m
  # (because azapi_update_resource.mssql_security_storage_key_rotation_reminder is not in configuration)
[0m  [31m-[0m[0m resource "azapi_update_resource" "mssql_security_storage_key_rotation_reminder" {
      [31m-[0m[0m body                    = jsonencode(
            {
              [31m-[0m[0m properties = {
                  [31m-[0m[0m keyPolicy = {
                      [31m-[0m[0m keyExpirationPeriodInDays = 90
                    }
                }
            }
        ) [90m-> null[0m[0m
      [31m-[0m[0m id                      = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Storage/storageAccounts/s190t01plantechmssqlsec" [90m-> null[0m[0m
      [31m-[0m[0m ignore_casing           = false [90m-> null[0m[0m
      [31m-[0m[0m ignore_missing_property = true [90m-> null[0m[0m
      [31m-[0m[0m name                    = "s190t01plantechmssqlsec" [90m-> null[0m[0m
      [31m-[0m[0m output                  = jsonencode({})
      [31m-[0m[0m parent_id               = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech" [90m-> null[0m[0m
      [31m-[0m[0m resource_id             = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Storage/storageAccounts/s190t01plantechmssqlsec" [90m-> null[0m[0m
      [31m-[0m[0m type                    = "Microsoft.Storage/storageAccounts@2023-01-01" [90m-> null[0m[0m
    }

[1m  # module.main_hosting.azurerm_container_app.container_apps["main"][0m will be updated in-place
[0m  [33m~[0m[0m resource "azurerm_container_app" "container_apps" {
        id                            = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.App/containerApps/s190t01-plantech-plan-tech-app"
        name                          = "s190t01-plantech-plan-tech-app"
        tags                          = {
            "Environment"      = "Test"
            "Product"          = "Plan Technology for your School"
            "Service Offering" = "Plan Technology for your School"
        }
        [90m# (8 unchanged attributes hidden)[0m[0m

      [33m~[0m[0m template {
            [90m# (2 unchanged attributes hidden)[0m[0m

          [33m~[0m[0m container {
              [33m~[0m[0m image             = "s190t01plantech.azurecr.io/plan-tech-app:development-784d22fa6925808e20b7d8bf2a8d658cca814681-Tst" [33m->[0m[0m "s190t01plantech.azurecr.io/plan-tech-app:development-b0757c8068c03780f926e148b9716ff63a3a8f81-Tst"
                name              = "main"
                [90m# (5 unchanged attributes hidden)[0m[0m

                [90m# (7 unchanged blocks hidden)[0m[0m
            }

            [90m# (1 unchanged block hidden)[0m[0m
        }

        [90m# (8 unchanged blocks hidden)[0m[0m
    }

[1m  # module.main_hosting.azurerm_monitor_diagnostic_setting.mssql_security_storage[0][0m will be updated in-place
[0m  [33m~[0m[0m resource "azurerm_monitor_diagnostic_setting" "mssql_security_storage" {
        id                         = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Storage/storageAccounts/s190t01plantechmssqlsec/blobServices/default|s190t01-plantech-mssql-blob-diag"
        name                       = "s190t01-plantech-mssql-blob-diag"
        [90m# (2 unchanged attributes hidden)[0m[0m

      [31m-[0m[0m metric {
          [31m-[0m[0m category = "Capacity" [90m-> null[0m[0m
          [31m-[0m[0m enabled  = false [90m-> null[0m[0m

          [31m-[0m[0m retention_policy {
              [31m-[0m[0m days    = 0 [90m-> null[0m[0m
              [31m-[0m[0m enabled = false [90m-> null[0m[0m
            }
        }
      [31m-[0m[0m metric {
          [31m-[0m[0m category = "Transaction" [90m-> null[0m[0m
          [31m-[0m[0m enabled  = false [90m-> null[0m[0m

          [31m-[0m[0m retention_policy {
              [31m-[0m[0m days    = 0 [90m-> null[0m[0m
              [31m-[0m[0m enabled = false [90m-> null[0m[0m
            }
        }
      [32m+[0m[0m metric {
          [32m+[0m[0m category = "AllMetrics"
          [32m+[0m[0m enabled  = false
        }

        [90m# (3 unchanged blocks hidden)[0m[0m
    }

[1m  # module.main_hosting.azurerm_private_dns_a_record.mssql_private_endpoint[0][0m will be updated in-place
[0m  [33m~[0m[0m resource "azurerm_private_dns_a_record" "mssql_private_endpoint" {
        id                  = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateDnsZones/s190t01-plantech.database.windows.net/A/@"
        name                = "@"
      [33m~[0m[0m tags                = {
            "Environment"      = "Test"
            "Product"          = "Plan Technology for your School"
          [32m+[0m[0m "Service Offering" = "Plan Technology for your School"
        }
        [90m# (5 unchanged attributes hidden)[0m[0m
    }

[1m  # module.main_hosting.azurerm_private_dns_zone.mssql_private_link[0][0m will be updated in-place
[0m  [33m~[0m[0m resource "azurerm_private_dns_zone" "mssql_private_link" {
        id                                                    = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateDnsZones/s190t01-plantech.database.windows.net"
        name                                                  = "s190t01-plantech.database.windows.net"
      [33m~[0m[0m tags                                                  = {
            "Environment"      = "Test"
            "Product"          = "Plan Technology for your School"
          [32m+[0m[0m "Service Offering" = "Plan Technology for your School"
        }
        [90m# (5 unchanged attributes hidden)[0m[0m

        [90m# (1 unchanged block hidden)[0m[0m
    }

[1m  # module.main_hosting.azurerm_private_dns_zone_virtual_network_link.mssql_private_link[0][0m will be updated in-place
[0m  [33m~[0m[0m resource "azurerm_private_dns_zone_virtual_network_link" "mssql_private_link" {
        id                    = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateDnsZones/s190t01-plantech.database.windows.net/virtualNetworkLinks/s190t01-plantechmssqlprivatelink"
        name                  = "s190t01-plantechmssqlprivatelink"
      [33m~[0m[0m tags                  = {
            "Environment"      = "Test"
            "Product"          = "Plan Technology for your School"
          [32m+[0m[0m "Service Offering" = "Plan Technology for your School"
        }
        [90m# (4 unchanged attributes hidden)[0m[0m
    }

[1m  # module.main_hosting.azurerm_private_endpoint.default["mssql"][0m will be updated in-place
[0m  [33m~[0m[0m resource "azurerm_private_endpoint" "default" {
        id                       = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateEndpoints/s190t01-plantechmssql"
        name                     = "s190t01-plantechmssql"
        tags                     = {
            "Environment"      = "Test"
            "Product"          = "Plan Technology for your School"
            "Service Offering" = "Plan Technology for your School"
        }
        [90m# (6 unchanged attributes hidden)[0m[0m

      [31m-[0m[0m private_dns_zone_group {
          [31m-[0m[0m id                   = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateEndpoints/s190t01-plantechmssql/privateDnsZoneGroups/default" [90m-> null[0m[0m
          [31m-[0m[0m name                 = "default" [90m-> null[0m[0m
          [31m-[0m[0m private_dns_zone_ids = [
              [31m-[0m[0m "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/privateDnsZones/privatelink.database.windows.net",
            ] [90m-> null[0m[0m
        }

        [90m# (1 unchanged block hidden)[0m[0m
    }

[1m  # module.main_hosting.azurerm_storage_account.mssql_security_storage[0][0m will be updated in-place
[0m  [33m~[0m[0m resource "azurerm_storage_account" "mssql_security_storage" {
      [33m~[0m[0m cross_tenant_replication_enabled  = false [33m->[0m[0m true
        id                                = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Storage/storageAccounts/s190t01plantechmssqlsec"
        name                              = "s190t01plantechmssqlsec"
        tags                              = {
            "Environment"      = "Test"
            "Product"          = "Plan Technology for your School"
            "Service Offering" = "Plan Technology for your School"
        }
        [90m# (39 unchanged attributes hidden)[0m[0m

      [31m-[0m[0m sas_policy {
          [31m-[0m[0m expiration_action = "Log" [90m-> null[0m[0m
          [31m-[0m[0m expiration_period = "02.00:00:00" [90m-> null[0m[0m
        }

        [90m# (4 unchanged blocks hidden)[0m[0m
    }

[1m  # module.main_hosting.azurerm_storage_management_policy.mssql_security_storage[0][0m will be [1m[31mdestroyed[0m
  # (because azurerm_storage_management_policy.mssql_security_storage is not in configuration)
[0m  [31m-[0m[0m resource "azurerm_storage_management_policy" "mssql_security_storage" {
      [31m-[0m[0m id                 = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Storage/storageAccounts/s190t01plantechmssqlsec/managementPolicies/default" [90m-> null[0m[0m
      [31m-[0m[0m storage_account_id = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Storage/storageAccounts/s190t01plantechmssqlsec" [90m-> null[0m[0m

      [31m-[0m[0m rule {
          [31m-[0m[0m enabled = true [90m-> null[0m[0m
          [31m-[0m[0m name    = "object-lifecycle-policy" [90m-> null[0m[0m

          [31m-[0m[0m actions {
              [31m-[0m[0m base_blob {
                  [31m-[0m[0m auto_tier_to_hot_from_cool_enabled                             = false [90m-> null[0m[0m
                  [31m-[0m[0m delete_after_days_since_creation_greater_than                  = 30 [90m-> null[0m[0m
                  [31m-[0m[0m delete_after_days_since_last_access_time_greater_than          = -1 [90m-> null[0m[0m
                  [31m-[0m[0m delete_after_days_since_modification_greater_than              = -1 [90m-> null[0m[0m
                  [31m-[0m[0m tier_to_archive_after_days_since_creation_greater_than         = 7 [90m-> null[0m[0m
                  [31m-[0m[0m tier_to_archive_after_days_since_last_access_time_greater_than = -1 [90m-> null[0m[0m
                  [31m-[0m[0m tier_to_archive_after_days_since_last_tier_change_greater_than = -1 [90m-> null[0m[0m
                  [31m-[0m[0m tier_to_archive_after_days_since_modification_greater_than     = -1 [90m-> null[0m[0m
                  [31m-[0m[0m tier_to_cold_after_days_since_creation_greater_than            = -1 [90m-> null[0m[0m
                  [31m-[0m[0m tier_to_cold_after_days_since_last_access_time_greater_than    = -1 [90m-> null[0m[0m
                  [31m-[0m[0m tier_to_cold_after_days_since_modification_greater_than        = -1 [90m-> null[0m[0m
                  [31m-[0m[0m tier_to_cool_after_days_since_creation_greater_than            = 3 [90m-> null[0m[0m
                  [31m-[0m[0m tier_to_cool_after_days_since_last_access_time_greater_than    = -1 [90m-> null[0m[0m
                  [31m-[0m[0m tier_to_cool_after_days_since_modification_greater_than        = -1 [90m-> null[0m[0m
                }
            }

          [31m-[0m[0m filters {
              [31m-[0m[0m blob_types   = [
                  [31m-[0m[0m "blockBlob",
                ] [90m-> null[0m[0m
              [31m-[0m[0m prefix_match = [
                  [31m-[0m[0m "s190t01-plantech-mssqlsec/*",
                  [31m-[0m[0m "sqldbauditlogs/*",
                  [31m-[0m[0m "sqldbtdlogs/*",
                ] [90m-> null[0m[0m
            }
        }
    }

[1m  # module.main_hosting.azurerm_subnet.container_apps_infra_subnet[0][0m will be updated in-place
[0m  [33m~[0m[0m resource "azurerm_subnet" "container_apps_infra_subnet" {
        id                                             = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Network/virtualNetworks/s190t01-plantechdefault/subnets/s190t01-plantechcontainerappsinfra"
        name                                           = "s190t01-plantechcontainerappsinfra"
      [33m~[0m[0m service_endpoints                              = [
          [31m-[0m[0m "Microsoft.Storage",
            [90m# (1 unchanged element hidden)[0m[0m
        ]
        [90m# (10 unchanged attributes hidden)[0m[0m
    }

[1m  # module.waf.data.azurerm_client_config.current[0m will be read during apply
  # (depends on a resource or a module with changes pending)
[0m [36m<=[0m[0m data "azurerm_client_config" "current" {
      [32m+[0m[0m client_id       = (known after apply)
      [32m+[0m[0m id              = (known after apply)
      [32m+[0m[0m object_id       = (known after apply)
      [32m+[0m[0m subscription_id = (known after apply)
      [32m+[0m[0m tenant_id       = (known after apply)
    }

[1m  # module.waf.data.azurerm_resource_group.existing_resource_group[0][0m will be read during apply
  # (depends on a resource or a module with changes pending)
[0m [36m<=[0m[0m data "azurerm_resource_group" "existing_resource_group" {
      [32m+[0m[0m id         = (known after apply)
      [32m+[0m[0m location   = (known after apply)
      [32m+[0m[0m managed_by = (known after apply)
      [32m+[0m[0m name       = "s190t01-plantech"
      [32m+[0m[0m tags       = (known after apply)
    }

[1m  # module.waf.azurerm_log_analytics_workspace.waf[0m must be [1m[31mreplaced[0m
[0m[31m-[0m/[32m+[0m[0m resource "azurerm_log_analytics_workspace" "waf" {
      [31m-[0m[0m cmk_for_query_forced                    = false [90m-> null[0m[0m
      [33m~[0m[0m id                                      = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.OperationalInsights/workspaces/s190t01-plantechwaf" -> (known after apply)
      [31m-[0m[0m immediate_data_purge_on_30_days_enabled = false [90m-> null[0m[0m
      [33m~[0m[0m location                                = "westeurope" [31m# forces replacement[0m[0m -> (known after apply) [31m# forces replacement[0m[0m
        name                                    = "s190t01-plantechwaf"
      [33m~[0m[0m primary_shared_key                      = (sensitive value)
      [33m~[0m[0m secondary_shared_key                    = (sensitive value)
        tags                                    = {
            "Environment"      = "Test"
            "Product"          = "Plan Technology for your School"
            "Service Offering" = "Plan Technology for your School"
        }
      [33m~[0m[0m workspace_id                            = "65a059b5-6b0d-49d5-af62-bed13f41fc4d" -> (known after apply)
        [90m# (8 unchanged attributes hidden)[0m[0m
    }

[1m  # module.waf.azurerm_monitor_diagnostic_setting.waf[0m will be updated in-place
[0m  [33m~[0m[0m resource "azurerm_monitor_diagnostic_setting" "waf" {
        id                             = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.Cdn/profiles/s190t01-plantech-cdnwaf|s190t01-plantechwaf"
      [32m+[0m[0m log_analytics_destination_type = "AzureDiagnostics"
      [33m~[0m[0m log_analytics_workspace_id     = "/subscriptions/78c3e82f-256f-46c0-a8ca-29ad3a499b89/resourceGroups/s190t01-plantech/providers/Microsoft.OperationalInsights/workspaces/s190t01-plantechwaf" -> (known after apply)
        name                           = "s190t01-plantechwaf"
        [90m# (1 unchanged attribute hidden)[0m[0m

        [90m# (6 unchanged blocks hidden)[0m[0m
    }

[1mPlan:[0m 5 to add, 11 to change, 13 to destroy.
[0m[33m╷[0m[0m
[33m│[0m [0m[1m[33mWarning: [0m[0m[1mArgument is deprecated[0m
[33m│[0m [0m
[33m│[0m [0m[0m  with module.main_hosting.azurerm_subnet.container_instances_subnet,
[33m│[0m [0m  on .terraform/modules/main_hosting/virtual-network.tf line 52, in resource "azurerm_subnet" "container_instances_subnet":
[33m│[0m [0m  52:   private_endpoint_network_policies_enabled = [4mtrue[0m[0m
[33m│[0m [0m
[33m│[0m [0m`private_endpoint_network_policies_enabled` will be removed in favour of the property `private_endpoint_network_policies` in version 4.0 of the AzureRM Provider
[33m│[0m [0m
[33m│[0m [0m(and 7 more similar warnings elsewhere)
[33m╵[0m[0m
[90m
─────────────────────────────────────────────────────────────────────────────[0m

Note: You didn't use the -out option to save this plan, so Terraform can't
guarantee to take exactly these actions if you run "terraform apply" now.
