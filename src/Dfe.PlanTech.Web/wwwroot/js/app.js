(()=>{var r="BrowserHistory",o="/self-assessment",e="back-button-link",n="notification-go-back-link",i=class{history=[];get lastUrl(){return this.history.length>0?this.getLastRef()==window.location.href?this.history[this.history.length-2]:this.history[this.history.length-1]:o}constructor(){this.history=this.getHistory(),this.ifNavigatingBackwardsRemoveUrl(),this.amendLinkHref(e),this.amendLinkHref(n),this.tryAddUrl()}tryAddUrl(){let t=this.history.length>0?this.history[this.history.length-1]:"";window.location.href!=t&&(this.history.push(window.location.href),this.saveHistory())}getLastRef(){return this.history.length>0?this.history[this.history.length-1]:""}ifNavigatingBackwardsRemoveUrl(){if(this.history.length==0)return!1;let t=this.history.length-2;return t<0||!(this.history[t]==window.location.href)?!1:(this.history=this.history.slice(0,t),this.saveHistory(),!0)}getHistory(){this.shouldClearHistory()&&this.clearHistory();let t=localStorage.getItem(r);return t?JSON.parse(t):[]}saveHistory(){let t=JSON.stringify(this.history);localStorage.setItem(r,t)}clearHistory(){this.history=[],this.saveHistory()}amendLinkHref(t){let s=document.getElementById(t);s&&s.setAttribute("href",this.lastUrl)}shouldClearHistory(){return window.location.pathname=="/"||window.location.pathname==o}};var y=new i;})();
//# sourceMappingURL=app.js.map
