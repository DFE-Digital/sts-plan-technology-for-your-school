@inject GtmConfiguration GtmConfiguration
@using Dfe.PlanTech.Web.Helpers;

@section Head {
    <partial name="_Head"/>
    @RenderSection("Head", required: false)
}

@{
    Layout = "_GovUkPageTemplate";

    if (ViewData["Title"] == null)
    {
        var routeData = Context.GetRouteData();
        ViewData["Title"] = routeData.GetTitleForPage();
    }
}

@section Header {
    @Html.Raw(GtmConfiguration.Body)

    <partial name="CookiesBanner/_CookieBanner" />
    <partial name="_Header" />

    @RenderSection("Header", required: false)
}

@RenderBody()

@section BeforeContent {
    <partial name="_BeforeContent"/>
    @RenderSection("BeforeContent", required: false)
}

@section Footer {
    <partial name="_Footer"/>
}

@await RenderSectionAsync("BodyEnd")