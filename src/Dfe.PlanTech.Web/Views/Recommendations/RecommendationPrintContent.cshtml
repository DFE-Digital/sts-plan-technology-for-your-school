@model Dfe.PlanTech.Web.Models.RecommendationsViewModel

@{
    <div>
        <span class="govuk-caption-xl">How to meet the standard</span>
        <!-- we dont have this title yet we will need to grab it when the new topic page is made -->
        <h1 class="govuk-heading-xl">
            Digital leadership and governance
        </h1>
        <h2 class="govuk-heading-l">@Model.SectionName</h2>
        <p>
            The self-assessment for @Model.SectionName.ToLower() was completed on
            <strong>@Model.LatestCompletionDate</strong>.
        </p>
        <p>View or change your self-assessment answers at any time.</p>
    </div>
    <h5 class="govuk-!-margin-bottom-4">Recommendations</h5>
    <ul class="govuk-task-list">
        @foreach (var headerWithContent in Model.AllContent)
        {
            <li class="govuk-task-list__item govuk-task-list__item--with-link">
                <div class="govuk-task-list__name-and-hint custom-height">
                    <p class="govuk-!-margin-bottom-0">
                        @headerWithContent.HeaderText
                    </p>
                </div>
            </li>
        }
    </ul>

    <h2 class="govuk-heading-l">Recommendations</h2>
    foreach (var headerWithContent in Model.AllContent)
    {
        <div class="recommendation-action-header">
            <div class="recommendation-piece-header">
                <h1 class="govuk-heading-m">@headerWithContent.HeaderText</h1>
            </div>
        </div>
        <div class="recommendation-action-content govuk-!-margin-bottom-4">
            @foreach (var content in headerWithContent.Content)
            {
                await Html.RenderPartialAsync("Components/PageComponentFactory", content);
                <hr class="govuk-section-break govuk-section-break--xl govuk-section-break--visible">
            }
            @{ ViewData["RecommendationsActionsHeader"] = headerWithContent.SlugifiedLinkText; }
        </div>
    }
}   
