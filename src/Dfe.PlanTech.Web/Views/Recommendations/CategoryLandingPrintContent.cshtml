@model CategoryLandingPageViewModel
@inject ICurrentUser CurrentUser

@{
	var schoolName = CurrentUser.GetActiveEstablishmentNameAsync();
}

@section BeforeContent {
    @{
        await Html.RenderPartialAsync("BackButton");
    }
}

<div class="govuk-!-margin-bottom-2">
	@{
		await Html.RenderPartialAsync("PrintButton", Model);
	}
	<p>&nbsp;</p>
</div>

<span class="govuk-caption-xl">@schoolName</span>
<h1 class="govuk-heading-xl">@Model.Category.Header.Text</h1>

@if (!string.IsNullOrWhiteSpace(Model.SectionName))
{
	<partial name="Components/PageComponentFactory" model="@(new ComponentTitleEntry(Model.SectionName))" />
}

<div class="govuk-grid-row">
	<div class="govuk-grid-column-two-thirds">
		@await Component.InvokeAsync("CategoryLanding", new {
			category = Model.Category,
			slug = Model.Slug,
			sectionName = Model.SectionName,
			sortOrder = Model.SortOrder,
			print = true
		})
	</div>
</div>
